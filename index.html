<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Verdantraz Grower Partner Application</title>
</head>

<body>

<section id="vtz-grower-partner" style="max-width:920px;margin:auto;padding:24px;">

<h2>üßæ VERDANTRAZ GROWER PARTNER PROGRAM</h2>

<form id="vtzForm">

<!-- SECTION 1 -->

<label>Full Name *</label>
<input name="full_name" required>

<label>Email *</label>
<input name="email" type="email" required>

<label>WhatsApp *</label>
<input name="whatsapp" required>

<label>Country *</label>
<select id="country" name="country" required>
<option value="">Select</option>
</select>

<label>City *</label>
<input name="city_region" required>

<label>Applying As *</label>
<br>
<input type="radio" name="applying_as" value="Individual grower" required> Individual
<input type="radio" name="applying_as" value="Commercial grower"> Commercial

<br><br>

<button type="submit" id="submitBtn">Submit Application</button>

<div id="statusMsg" style="margin-top:10px;"></div>

</form>

<script>

const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbwORHib8M0EzUb3G7qx-PpWwH1rz-DY7Dfm7y51mWBjZ_6WDeYomRqDPxYLf55VdbeR/exec";

const countries = ["United Arab Emirates","India","Oman","Saudi Arabia","Qatar"];

const countrySel = document.getElementById("country");

countries.forEach(c=>{
  const opt=document.createElement("option");
  opt.value=c;
  opt.textContent=c;
  countrySel.appendChild(opt);
});

const form = document.getElementById("vtzForm");
const status = document.getElementById("statusMsg");
const submitBtn = document.getElementById("submitBtn");

form.addEventListener("submit", async function(e){

  e.preventDefault();

  status.innerHTML="";
  submitBtn.disabled=true;

  try{

    status.innerHTML="Submitting...";

    const formData = new FormData(form);

    const response = await fetch(SCRIPT_URL,{
      method:"POST",
      body:formData
    });

    if(!response.ok){
      throw new Error("Submission failed");
    }

    form.reset();
    status.innerHTML="‚úÖ Submitted successfully.";

  }catch(err){

    console.error(err);
    status.innerHTML="‚ùå Submission failed. Please try again.";

  }finally{

    submitBtn.disabled=false;

  }

});

</script>

</section>

</body>
</html>
